<!DOCTYPE html>
<html>
<head>
    
    <title>eRes Application</title>
    <link rel="stylesheet" href="style.css">


</head>
<body>
     <div class="registerBox" id="Register" >

      <div class="inputBox">
           
        <input type="text" name="firstname" id="firstname" required="">
        <label>Firstname</label>
      </div>

      <div class="inputBox">
          
        <input type="text" name="surname" id="surname" required ="">
        <label>Surname</label>
      </div>
      
      <div class="inputBox">
          
        <input type="text" name="email" id="email" required="">
        <label>Email Address</label>
      </div>

      <div class="inputBox">
           
        <input type="number" name="student number" id="studnum" required="">
        <label>Student Number</label>
      </div> 

      <div class="inputBox">
          
        <input type="password" name="password" id="password" required="">
        <label>Password</label>
      </div>

      <div class="inputBox">
          
        <input type="password" name="confpassword" id="confpassword" required="">
        <label>Confirm Password</label>
      </div>

      <div class="selectBox">
        <label>Gender</label>
        <select id="gender">
          <option>Male</option>
          <option>Female</option>
         
        </select>
       
      </div><br><br>


      <div class="selectBox">
        <label>Residence</label>
        <select id="residence">
          <option>Mannheim Ladies</option>
          <option>Welgemoed</option>
          <option>Loggies</option>
          <option>Eendrag</option>
          <option>Gymnos</option>
          <option>Graduandi</option>
          <option>Welkom</option>
          <option>Mannheim Men</option>
          <option>Huis Technikon</option>
        </select>
      </div><br><br>

         <div class="selectBox">
          <label>Role</label>
          <select id="role">
            <option>Student</option>
            <option>Residence Manager</option>
            <option>Mentor</option>
            <option>Caretaker</option>
            <option>Hc Academics</option>
            <option>Hc Domestic</option>
            <option>Hc Sports</option>
          </select>
         
        </div><br><br>
           
           <button onclick="RegisterUser()">Register</button>
           <button onclick="Login()">Login</button>
     </div>
    
  
    
    <script src="https://www.gstatic.com/firebasejs/8.2.5/firebase.js"></script>
   
    
    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
          apiKey: "AIzaSyCoXqBGvYHP2wcXLGnu8iR1DHY13An13Vo",
          authDomain: "eresapplication.firebaseapp.com",
          databaseURL: "https://eresapplication-default-rtdb.firebaseio.com",
          projectId: "eresapplication",
          storageBucket: "eresapplication.appspot.com",
          messagingSenderId: "930888883325",
          appId: "1:930888883325:web:c8ca7e2c05070ee346e514",
          measurementId: "G-LDR6RG84KQ"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

    function RegisterUser(){

      val();

     var email=document.getElementById('email').value;
     var password=document.getElementById('password').value;
     var firstname=document.getElementById('firstname').value;
     var surname=document.getElementById('surname').value;
     var studnum=document.getElementById('studnum').value;
     var confpassword=document.getElementById('confpassword').value;
     var gender=document.getElementById('gender').value;
     var role=document.getElementById('role').value;
     var residence =document.getElementById('residence').value;

     firebase.auth().createUserWithEmailAndPassword(email,password).then(function(){
           alert('User Registered successfully');
           var id =firebase.auth().currentUser.uid;
           firebase.database().ref('User/'+id).set({
            confPassword:confpassword,
            email:email,
            firstname:firstname,
            password:password,
            gender:gender,
            residence:residence,
            role:role,
            studNum:studnum,
            surname:surname
           });

     }).catch(function(error){  
           alert("Wrong input!")
           var errorcode=error.code;
           var errormessage=error.message;
     });
    }

    function val()
    {
      var email=document.getElementById('email').value;
     var password=document.getElementById('password').value;
     var firstname=document.getElementById('firstname').value;
     var surname=document.getElementById('surname').value;
     var studnum=document.getElementById('studnum').value;
     var confpassword=document.getElementById('confpassword').value;
     var gender=document.getElementById('gender').value;
     var role=document.getElementById('role').value;
     var residence =document.getElementById('residence').value;

     if(email=="")
     {
       document.getElementById('email').innerHTML="Please enter email";
     }
    }

    function Login(){
      window.location.replace("file:///C:/Users/mmaba/OneDrive/Desktop/WebApp%20(1)/WebApp/WebApp/WebApp/eResApp/login.html");
    }
  
</script>



</body>
</html>